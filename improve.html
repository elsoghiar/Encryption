<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support & Empower</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tonconnect/ui@2.0.0/dist/tonconnect-ui.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/eruda"></script>
    <script> eruda.init(); </script>
</head>
<body>
    <div class="containers">
        <div class="container">
            <div class="page-title">CRYPTOR <span>QEXX</span></div>
            <div class="titley">Your support keeps this project free and accessible to everyone!</div>
            
            <div class="contentsu">
                <div class="go">Support via Ton Connect</div>
                <div class="p">Make an instant contribution to help sustain and grow this project.</div>
                <input type="number" id="amountInput" placeholder="Enter amount in TON">
                <div id="ton-connect"></div>
                <button id="payButton">Send Support</button>
            </div>

            <div class="contentsu">
                <div class="go">Qexx Wallet</div>
                <div class="p">Help fund the development and continuous improvement of the app.</div>
                <div class="wallet-address">
                    <span id="walletAddress">UQCpMg6TV_zE34ao-Ii2iz5M6s5Qp8OIVWa3YbsB9KwxzwCJ</span>
                </div>
                <button onclick="copyAddress()">ðŸ“‹ Copy Address</button>
            </div>

            <div class="bottom-nav">
                <div class="menu-item-container">
                    <a href="index.html" class="nav-item" id="homeNav">
                        <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="#4a4a4a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M15.686 15A14.5 14.5 0 0 1 12 22a14.5 14.5 0 0 1 0-20 10 10 0 1 0 9.542 13"/>
                            <path d="M2 12h8.5"/>
                            <path d="M20 6V4a2 2 0 1 0-4 0v2"/>
                            <rect width="8" height="5" x="14" y="6" rx="1"/>
                        </svg>
                    </a>
                </div>
                <div class="menu-item-container">
                    <a href="photo.html" class="nav-item" id="photoNav">
                        <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="#4a4a4a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect width="18" height="18" x="3" y="3" rx="2" ry="2"/>
                            <circle cx="9" cy="9" r="2"/>
                            <path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/>
                        </svg>
                    </a>
                </div>
                <div class="menu-item-container">
                    <a href="improve.html" class="nav-item" id="improveNav">
                        <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="url(#gradient)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <defs>
                                <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" stop-color="#2D83EC"/>
                                    <stop offset="100%" stop-color="#9B59B6"/>
                                </linearGradient>
                            </defs>
                            <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/>
                            <path d="M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66"/>
                            <path d="m18 15-2-2"/>
                            <path d="m15 18-2-2"/>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script>
        const tonConnectUI = new TonConnectUI({
            manifestUrl: 'https://elsoghiar.github.io/se-ip-s-r/json/saw-ton-manifest.json',
            buttonRootId: 'ton-connect'
        });

        document.getElementById("payButton").addEventListener("click", async () => {
            const amount = document.getElementById("amountInput").value;
            if (!amount || amount <= 0) {
                alert("Please enter a valid amount.");
                return;
            }

            const walletConnected = await tonConnectUI.connected;
            if (!walletConnected) {
                alert("Please connect your TON wallet first.");
                tonConnectUI.openModal();
                return;
            }

            try {
                const transaction = await tonConnectUI.sendTransaction({
                    to: "UQCpMg6TV_zE34ao-Ii2iz5M6s5Qp8OIVWa3YbsB9KwxzwCJ",
                    amount: amount * 1e9, // Convert TON to nanotons
                    payload: "Support payment",
                    validUntil: Math.floor(Date.now() / 1000) + 300 // ØµÙ„Ø§Ø­ÙŠØ© 5 Ø¯Ù‚Ø§Ø¦Ù‚ (300 Ø«Ø§Ù†ÙŠØ©)
                });
                alert("Payment successful!");
            } catch (error) {
                alert("Payment failed: " + error.message);
            }
        });

        function copyAddress() {
            const address = document.getElementById("walletAddress").innerText;
            navigator.clipboard.writeText(address).then(() => {
                alert("Address copied to clipboard!");
            }).catch(err => {
                alert("Failed to copy address: " + err);
            });
        }
    </script>
</body>
</html>
